<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI-Rechner</title>

    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">

    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/menue.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<section class="wrapper">
    <header>
        <h1>BMI- & Kalorien-Rechner</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="bmirechner.html" class="active">BMI-Rechner</a></li>
            <li><a href="daten.html">Daten</a></li>
            <li><a href="profil.html">Profil</a></li>
            <li><a href="logout.html">Logout</a></li>
        </ul>
    </nav>

    <main>
        <!-- Dynamischer Login/Logout-Button -->
        <button id="authBtn" type="button">Login</button>

        <div id="bmiSection">
            <form id="rechner-form">
                <input type="number" id="groesse" placeholder="Gr√∂√üe (cm)" required>
                <input type="number" id="gewicht" placeholder="Gewicht (kg)" required>
                <input type="number" id="alter" placeholder="Alter" required>

                <label>Geschlecht</label>
                <select id="geschlecht">
                    <option value="maennlich">M√§nnlich</option>
                    <option value="weiblich">Weiblich</option>
                </select>

                <label>Aktivit√§tslevel</label>
                <select id="aktivitaet">
                    <option value="1.2">Niedrig aktiv</option>
                    <option value="1.55">Mittel aktiv</option>
                    <option value="1.75">Sehr aktiv</option>
                </select>

                <button type="submit">Berechnen</button>
            </form>

            <div id="ergebnis"></div>
        </div>
    </main>

    <footer></footer>
</section>

<!-- üîê Auth & Login/Logout-Button -->
<script>
const authBtn = document.getElementById('authBtn');

// Funktion, um Button je nach Login-Status anzupassen
function updateAuthButton() {
    if (sessionStorage.getItem('loggedIn') === 'true') {
        authBtn.textContent = 'Logout';
        authBtn.onclick = () => {
            sessionStorage.removeItem('loggedIn');
            window.location.reload();
        };
    } else {
        authBtn.textContent = 'Login';
        authBtn.onclick = () => {
            sessionStorage.setItem('fromBMI', 'true');
            window.location.href = 'login.html';
        };
    }
}

// Beim Laden der Seite Button pr√ºfen
updateAuthButton();
</script>

<!-- üßÆ BMI Rechner -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('rechner-form');
    const ergebnisDiv = document.getElementById('ergebnis');

    form.addEventListener('submit', function(e) {
        e.preventDefault(); // Verhindert Neuladen

        const groesse = parseFloat(document.getElementById('groesse').value);
        const gewicht = parseFloat(document.getElementById('gewicht').value);

        if (!groesse || !gewicht) {
            ergebnisDiv.textContent = 'Bitte Gr√∂√üe und Gewicht eingeben.';
            return;
        }

        const bmi = gewicht / ((groesse / 100) ** 2);
        let status = '';

        if (bmi < 18.5) status = 'Untergewicht';
        else if (bmi < 25) status = 'Normalgewicht';
        else if (bmi < 30) status = '√úbergewicht';
        else status = 'Adipositas';

        ergebnisDiv.innerHTML = `Ihr BMI: <strong>${bmi.toFixed(1)}</strong> (${status})`;
    });
});
</script>

</body>
</html>
